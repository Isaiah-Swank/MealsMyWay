<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-title>Pantry and Freezer</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <ion-header collapse="condense">
    <ion-toolbar>
      <ion-title size="large">Pantry and Freezer</ion-title>
    </ion-toolbar>
  </ion-header>

  <div class="container">
    <div class="pantry">
      <h2>PANTRY</h2>
      <ul>
        <li *ngFor="let item of pantryItems; let i = index" class="pantry-item">
          <div class="item-info">{{ item.name }} - {{ item.quantity }}oz</div>
        
          <div class="item-controls" *ngIf="editMode">
            <ion-button fill="clear" size="small" (click)="decrementPantryItem(i)" class="icon-button">
              <ion-icon name="remove-circle" slot="icon-only"></ion-icon>
            </ion-button>
            <ion-button fill="clear" size="small" (click)="incrementPantryItem(i)" class="icon-button">
              <ion-icon name="add-circle" slot="icon-only"></ion-icon>
            </ion-button>
            <ion-icon name="close-circle" class="delete-icon" (click)="deletePantryItem(i)"></ion-icon>
          </div>
        </li>
        
    
        <!-- Add new item button (only when not editing) -->
        <li class="new-item" *ngIf="!editMode" (click)="openAddItemPrompt()">New Item</li>
      </ul>
    
      <ion-button (click)="toggleEditMode()" expand="block" class="edit-button-pantry">
        {{ editMode ? 'All Done' : 'Edit Pantry' }}
      </ion-button>
    </div>
    
    
    <div class="freezer">
      <img src="assets/images/icicles.png" alt="Icicles" class="icicles">
      <h2>FREEZER</h2>
      <ul>
        <!-- Loop over freezer items dynamically -->
        <li *ngFor="let item of freezerItems; let i = index">
          {{ item.name }} - {{ item.quantity }} Portion{{ item.quantity > 1 ? 's' : '' }}
          <!-- Show plus/minus controls only when not editing -->
          <span class="item-controls" *ngIf="!freezerEditMode">
            <span class="plus" (click)="incrementFreezerItem(i)">+</span>
            <span class="minus" (click)="decrementFreezerItem(i)">-</span>
          </span>
          <!-- When in edit mode, show a delete icon -->
          <span class="delete-icon" *ngIf="freezerEditMode" (click)="deleteFreezerItem(i)">✖</span>
        </li>
        <li class="new-item" (click)="openAddFreezerItemPrompt()">New Item</li>
      </ul>
      <ion-button class="edit-button-freezer" expand="block" (click)="toggleFreezerEditMode()">
        {{ freezerEditMode ? 'All Done' : 'Edit Freezer' }}
      </ion-button>
    </div>

    <div class="spice">
      <h2>SPICE RACK</h2>
      <ul>
        <!-- Loop over freezer items dynamically -->
        <li *ngFor="let item of spiceItems; let i = index">
          {{ item.name }}
          <!-- When in edit mode, show a delete icon -->
          <span class="delete-icon" *ngIf="spiceEditMode" (click)="deleteSpiceItem(i)">✖</span>
        </li>
        <li class="new-item" (click)="openAddSpiceItemPrompt()">New Item</li>
      </ul>
      <ion-button class="edit-button-spice" expand="block" (click)="toggleSpiceEditMode()">
        {{ spiceEditMode ? 'All Done' : 'Edit Spice Rack' }}
      </ion-button>
    </div>

  </div> <!-- Closing container div -->
</ion-content>
